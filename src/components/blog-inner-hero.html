<article class="bg-white dark:bg-[#0b1120] transition-colors duration-300 font-sans min-h-screen">
    
    <header class="pt-32 pb-16 border-b border-slate-200 dark:border-slate-800 relative bg-white dark:bg-[#0b1120] z-20">
        <div class="absolute inset-0 pointer-events-none opacity-20">
            <div class="absolute top-0 left-[20%] w-px h-full bg-slate-200 dark:bg-slate-800 border-l border-dashed border-slate-300 dark:border-slate-700"></div>
            <div class="absolute top-[40%] left-0 w-full h-px bg-slate-200 dark:bg-slate-800 border-t border-dashed border-slate-300 dark:border-slate-700"></div>
        </div>

        <div class="wrapper relative z-10">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                
                <div class="lg:col-span-8">
                    <div class="flex flex-wrap items-center gap-3 mb-8">
                        <span class="font-mono text-xs font-bold text-slate-400 uppercase tracking-widest mr-2">// Tags:</span>
                        <a href="#" class="px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border border-blue-200 dark:border-blue-800 rounded-sm text-xs font-bold uppercase tracking-wider hover:bg-blue-100 transition-colors">#Engineering</a>
                        <a href="#" class="px-3 py-1 bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 border border-purple-200 dark:border-purple-800 rounded-sm text-xs font-bold uppercase tracking-wider hover:bg-purple-100 transition-colors">#AWS_Lambda</a>
                    </div>

                    <h1 class="text-4xl md:text-6xl lg:text-7xl font-black text-slate-900 dark:text-white tracking-tighter leading-[1.1] mb-8">
                        Architecting Scalable <br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400">Serverless Functions.</span>
                    </h1>
                    
                    <p class="text-xl text-slate-600 dark:text-slate-400 leading-relaxed max-w-2xl border-l-4 border-blue-500 pl-6">
                        A deep dive into bypassing standard API limits by building a custom middleware on AWS Lambda for enterprise HubSpot clients.
                    </p>
                </div>

                <div class="lg:col-span-4 flex flex-col justify-end items-start lg:items-end gap-6">
                    <a href="/blog-author.html" class="flex items-center gap-4 text-right">
                        <div>
                            <span class="block font-mono text-[10px] text-slate-400 uppercase tracking-widest mb-1">Authored_By</span>
                            <span class="font-bold text-slate-900 dark:text-white">Pratik Chauhan</span>
                        </div>
                        <div class="w-12 h-12 rounded-full border-2 border-slate-200 dark:border-slate-700 p-0.5">
                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=200" class="w-full h-full rounded-full object-cover grayscale" alt="Author">
                        </div>
                    </a>
                    <div class="text-right">
                        <span class="block font-mono text-[10px] text-slate-400 uppercase tracking-widest mb-1">Published</span>
                        <span class="font-bold text-slate-900 dark:text-white">24 October, 2023</span>
                    </div>
                </div>
            </div>
        </div>
    </header>


    <div class="wrapper relative z-10 -mt-px bg-white dark:bg-[#0b1120]">
        <div class="grid grid-cols-1 lg:grid-cols-12 border-l border-r border-slate-200 dark:border-slate-800">

            <div class="lg:col-span-9 border-r border-slate-200 dark:border-slate-800">
                
                <div class="relative group border-b border-slate-200 dark:border-slate-800">
                    <div class="absolute inset-0 z-10 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10 mix-blend-overlay pointer-events-none"></div>
                    <div class="absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-blue-500 z-20"></div>
                    <div class="absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-blue-500 z-20"></div>
                    <div class="absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-blue-500 z-20"></div>
                    <div class="absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-blue-500 z-20"></div>

                    <div class="aspect-video w-full overflow-hidden bg-slate-100 dark:bg-slate-900">
                        <img src="https://images.unsplash.com/photo-1555099962-4199c345e5dd?q=80&w=1200&auto=format&fit=crop" 
                             alt="Serverless Architecture" 
                             class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700">
                    </div>
                </div>

                <div class="p-8 md:p-12 lg:p-16">
                    <div class="prose prose-lg prose-slate dark:prose-invert max-w-none font-sans">
                        
                        <h2 id="overview" class="scroll-mt-32 text-3xl font-black text-slate-900 dark:text-white tracking-tight">01. Overview</h2>
                        <p>
                            When working with enterprise-level HubSpot portals, one common bottleneck is the API rate limit. Standard integration methods often hit the <code class="font-mono text-sm bg-slate-100 dark:bg-slate-800 px-1 py-0.5 rounded text-blue-600 dark:text-blue-400">100 requests/10 seconds</code> ceiling, causing data sync failures.
                        </p>
                        <p>
                            To solve this, we architected a middleware solution using <strong>AWS Lambda</strong> and <strong>SQS (Simple Queue Service)</strong>. This allows us to buffer requests and process them at a controlled rate, ensuring 100% data integrity.
                        </p>

                        <h2 id="bottleneck" class="scroll-mt-32 text-3xl font-black text-slate-900 dark:text-white tracking-tight mt-12">02. The API Bottleneck</h2>
                        <p>
                            The core issue lies in burst traffic. Marketing campaigns often trigger thousands of contact updates simultaneously. Direct API calls fail under this load.
                        </p>
                        <ul class="list-disc pl-5 space-y-2 marker:text-blue-500">
                            <li><strong>Standard Limit:</strong> 150/10s for Professional accounts.</li>
                            <li><strong>Burst Traffic:</strong> 500+ requests in 2 seconds during launches.</li>
                            <li><strong>Result:</strong> <code>429 Too Many Requests</code> errors.</li>
                        </ul>

                        <div class="my-8 p-6 bg-slate-50 dark:bg-[#0f172a] border-l-4 border-blue-500 rounded-r">
                            <span class="block font-mono text-xs font-bold text-blue-600 dark:text-blue-400 mb-2">// INSIGHT</span>
                            <p class="m-0 text-sm font-bold text-slate-700 dark:text-slate-300 italic">
                                "Retry logic isn't enough. You need a queue to flatten the curve of traffic."
                            </p>
                        </div>

                        <h2 id="solution" class="scroll-mt-32 text-3xl font-black text-slate-900 dark:text-white tracking-tight mt-12">03. Lambda Solution</h2>
                        <p>
                            We decoupled the trigger from the execution. Instead of hitting HubSpot directly, the webhook hits an AWS API Gateway which pushes the payload to SQS.
                        </p>
                        
                        <div class="not-prose my-8 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-800 bg-[#1e293b]">
                            <div class="flex items-center justify-between px-4 py-2 bg-[#0f172a] border-b border-slate-700">
                                <span class="text-xs font-mono text-slate-400">lambda_handler.py</span>
                                <div class="flex gap-1.5">
                                    <div class="w-2.5 h-2.5 rounded-full bg-red-500"></div>
                                    <div class="w-2.5 h-2.5 rounded-full bg-yellow-500"></div>
                                    <div class="w-2.5 h-2.5 rounded-full bg-green-500"></div>
                                </div>
                            </div>
                            <pre class="p-4 text-xs md:text-sm font-mono text-slate-300 overflow-x-auto">
def lambda_handler(event, context):
    # Parse event
    body = json.loads(event['body'])
    
    # Push to SQS
    response = sqs.send_message(
        QueueUrl=queue_url,
        MessageBody=json.dumps(body)
    )
    
    return {
        'statusCode': 200,
        'body': json.dumps('Queued successfully')
    }
                            </pre>
                        </div>

                        <p>
                            A separate worker Lambda function pulls messages from SQS in batches of 10, processes them, and updates HubSpot. If the limit is near, it pauses execution.
                        </p>

                        <h2 id="result" class="scroll-mt-32 text-3xl font-black text-slate-900 dark:text-white tracking-tight mt-12">04. Final Benchmarks</h2>
                        <p>
                            Post-implementation, we saw a <strong>0% failure rate</strong> on a database of 500k contacts during a Black Friday campaign.
                        </p>

                    </div>
                </div>
            </div>

            <div class="lg:col-span-3 hidden lg:block bg-slate-50 dark:bg-[#0f172a]/30">
                
                <div class="sticky top-24 p-6 flex flex-col gap-12">
                    
                    <div>
                        <span class="block text-slate-400 font-bold uppercase tracking-widest mb-6 border-b border-slate-200 dark:border-slate-700 pb-2 text-[10px]">
                            // Navigation_Tree
                        </span>
                        
                        <nav>
                            <ul class="space-y-4 text-xs font-mono">
                                <li>
                                    <a href="#overview" class="block pl-3 border-l-2 border-blue-500 text-blue-600 dark:text-blue-400 font-bold transition-colors">
                                        01. Overview
                                    </a>
                                </li>
                                <li>
                                    <a href="#bottleneck" class="block pl-3 border-l-2 border-transparent text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white hover:border-slate-300 dark:hover:border-slate-600 transition-colors">
                                        02. The API Bottleneck
                                    </a>
                                </li>
                                <li>
                                    <a href="#solution" class="block pl-3 border-l-2 border-transparent text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white hover:border-slate-300 dark:hover:border-slate-600 transition-colors">
                                        03. Lambda Solution
                                    </a>
                                </li>
                                <li>
                                    <a href="#result" class="block pl-3 border-l-2 border-transparent text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white hover:border-slate-300 dark:hover:border-slate-600 transition-colors">
                                        04. Final Benchmarks
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>

                    <div>
                        <span class="block text-slate-400 font-bold uppercase tracking-widest mb-6 border-b border-slate-200 dark:border-slate-700 pb-2 text-[10px]">
                            // Share_Protocol
                        </span>
                        
                        <div class="grid grid-cols-3 gap-2">
                            <button class="h-10 flex items-center justify-center border border-slate-200 dark:border-slate-700 bg-white dark:bg-[#0b1120] text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-white hover:border-blue-500 transition-colors">
                                <i class="ri-linkedin-fill text-base"></i>
                            </button>
                            <button class="h-10 flex items-center justify-center border border-slate-200 dark:border-slate-700 bg-white dark:bg-[#0b1120] text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:border-slate-900 dark:hover:border-white transition-colors">
                                <i class="ri-twitter-x-line text-base"></i>
                            </button>
                            <button class="h-10 flex items-center justify-center border border-slate-200 dark:border-slate-700 bg-white dark:bg-[#0b1120] text-slate-600 dark:text-slate-400 hover:text-green-600 dark:hover:text-green-400 hover:border-green-500 transition-colors">
                                <i class="ri-link text-base"></i>
                            </button>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>

</article>