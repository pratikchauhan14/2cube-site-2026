<section class="relative pt-40 pb-10 md:pb-20 overflow-hidden border-b border-slate-200 dark:border-slate-800" aria-label="Migration Service Hero">
    
    <div class="absolute inset-0 pointer-events-none opacity-[0.03]" style="background-image: linear-gradient(#000 1px, transparent 1px), linear-gradient(to right, #000 1px, transparent 1px); background-size: 40px 40px;"></div>

    <div class="wrapper relative z-10">
        <div class="flex flex-col lg:flex-row justify-between items-center gap-5 lg:gap-16">
            
            <div class="w-full max-w-2xl text-left">
                <div class="flex items-center gap-3 mb-6">
                    <div class="px-3 py-1 bg-orange-500/10 border border-orange-500/20 flex items-center gap-2 rounded">
                        <span class="relative flex h-2 w-2">
                          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"></span>
                          <span class="relative inline-flex rounded-full h-2 w-2 bg-orange-500"></span>
                        </span>
                        <span class="font-mono text-xs text-orange-600 dark:text-orange-500 font-bold uppercase tracking-widest">
                            System: Replatforming
                        </span>
                    </div>
                </div>
                
                <h1 class="text-3xl md:text-6xl font-black text-slate-900 dark:text-white tracking-tighter leading-[1.1] mb-6">
                    Replatform to HubSpot. <br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-500 to-red-600">Zero Data Loss.</span>
                </h1>
                
                <p class=" text-slate-600 dark:text-slate-400 max-w-xl leading-relaxed mb-8">
                    We migrate complex data structures from <strong>WordPress</strong>, <strong>Drupal</strong>, or Custom DBs to HubSpot using <span class="font-mono text-orange-500 font-bold">CLI Scripts</span> & APIs, ensuring complete data integrity.
                </p>

                <div class="flex flex-wrap gap-4">
                    <a href="#migration-process" class="btn btn-primary">
                        Get Started
                    </a>
                </div>
            </div>
            
            <div class="w-full max-w-2xl shrink-0">
                <div class="relative group">
                    <div class="absolute -inset-1 bg-gradient-to-r from-orange-500/20 to-blue-500/20 rounded-lg blur-xl opacity-40 group-hover:opacity-60 transition duration-500"></div>
                    
                    <div class="relative bg-[#0d1117] border border-slate-700/80 rounded-lg overflow-hidden shadow-2xl font-mono h-[480px] flex flex-col">
                        
                        <div class="bg-[#161b22] pt-2 flex items-end border-b border-slate-700/50 select-none overflow-x-auto no-scrollbar">
                            <div class="flex gap-2 px-4 pb-2 self-center mr-2 shrink-0">
                                <div class="w-3 h-3 rounded-full bg-red-500/80"></div>
                                <div class="w-3 h-3 rounded-full bg-yellow-500/80"></div>
                                <div class="w-3 h-3 rounded-full bg-green-500/80"></div>
                            </div>
                            
                            <button onclick="switchTab('migration')" id="tab-migration" class="terminal-tab active px-4 py-2 bg-[#0d1117] text-slate-300 text-xs border-t border-r border-l border-slate-700/50 rounded-t-md relative -mb-px flex items-center gap-2 transition-colors whitespace-nowrap shrink-0">
                                <i class="ri-terminal-line text-orange-500"></i> migration.sh
                            </button>
                            
                            <button onclick="switchTab('data')" id="tab-data" class="terminal-tab px-4 py-2 bg-transparent text-slate-500 text-xs flex items-center gap-2 border-r border-slate-700/30 hover:bg-[#161b22]/50 hover:text-slate-400 transition-colors whitespace-nowrap shrink-0">
                                <i class="ri-database-2-line text-blue-500"></i> schema_map.json
                            </button>

                            <button onclick="switchTab('qa')" id="tab-qa" class="terminal-tab px-4 py-2 bg-transparent text-slate-500 text-xs flex items-center gap-2 border-r border-slate-700/30 hover:bg-[#161b22]/50 hover:text-slate-400 transition-colors whitespace-nowrap shrink-0">
                                <i class="ri-shield-check-line text-green-500"></i> integrity_check.log
                            </button>
                        </div>

                        <div class="p-6 text-slate-300 overflow-hidden flex-1 text-[11px] md:text-xs leading-relaxed font-mono relative bg-[#0d1117]" id="terminal-body">
                            <div id="terminal-content"></div>
                            <span id="cursor" class="animate-pulse bg-orange-500 w-2 h-4 inline-block align-middle mt-1"></span>
                        </div>
                        
                        <div class="bg-[#161b22] px-4 py-1.5 flex justify-between items-center text-[10px] border-t border-slate-700/50">
                            <div class="flex items-center gap-3 text-slate-400">
                                <span class="flex items-center gap-1 text-orange-500 font-bold"><i class="ri-flash-light-fill"></i> ~2cube.studio</span>
                            </div>
                            
                            <div class="flex items-center gap-2 px-2 py-0.5 rounded bg-[#0d1117] border border-slate-700">
                                <span id="status-dot" class="w-1.5 h-1.5 rounded-full bg-slate-500"></span>
                                <span id="status-text" class="text-slate-400 font-bold tracking-widest uppercase">IDLE</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<style>
    /* Hide scrollbar for Chrome, Safari and Opera */
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }
    /* Hide scrollbar for IE, Edge and Firefox */
    .no-scrollbar {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }

    .terminal-tab.active {
        background-color: #0d1117;
        color: #cbd5e1;
        border-top: 1px solid rgba(51, 65, 85, 0.5);
        border-right: 1px solid rgba(51, 65, 85, 0.5);
        border-left: 1px solid rgba(51, 65, 85, 0.5);
    }
    .terminal-tab:not(.active) {
        background-color: transparent;
        border-top: 1px solid transparent;
    }
</style>

<script>
    // DATA: Scripts for each tab
    const scripts = {
        migration: [
            { text: "hs auth --account=CLIENT_PORTAL --mode=secure", color: "text-white", state: "AUTH_CHECK", dot: "bg-yellow-500" },
            { text: "> Handshake established... [OK]", color: "text-slate-500", state: "CONNECTING", dot: "bg-yellow-500 animate-pulse" },
            { text: "wp export --content=posts,pages,cpt --format=json", color: "text-white", state: "EXPORTING", dot: "bg-blue-500 animate-pulse" },
            { text: "> Fetched 420 Posts, 15 Custom Post Types.", color: "text-slate-400", state: "PROCESSING", dot: "bg-blue-500 animate-pulse" },
            { text: "hs import --dest=hubdb --map=schema_map.json", color: "text-white", state: "IMPORTING", dot: "bg-orange-500 animate-pulse" },
            { text: "> Creating HubDB Tables... [DONE]", color: "text-yellow-500", state: "MAPPING", dot: "bg-orange-500 animate-pulse" },
            { text: "> Uploading Assets (Images/PDFs)... [DONE]", color: "text-slate-300", state: "UPLOADING", dot: "bg-purple-500 animate-pulse" },
            { text: "> [SUCCESS] Migration Complete. 0 Errors Found.", color: "text-green-400 font-bold", state: "READY", dot: "bg-green-500" }
        ],
        data: [
            { text: "cat schema_map.json", color: "text-blue-400", state: "READING", dot: "bg-blue-500" },
            { text: "{", color: "text-white", state: "PARSING", dot: "bg-green-500 animate-pulse" },
            { text: '&nbsp;&nbsp;"wp_post_title": "hubspot_name",', color: "text-green-400", state: "MAPPING", dot: "bg-green-500 animate-pulse" },
            { text: '&nbsp;&nbsp;"wp_meta_desc": "hubspot_meta_description",', color: "text-green-400", state: "MAPPING", dot: "bg-green-500 animate-pulse" },
            { text: '&nbsp;&nbsp;"acf_custom_field": {', color: "text-white", state: "MAPPING", dot: "bg-green-500 animate-pulse" },
            { text: '&nbsp;&nbsp;&nbsp;&nbsp;"type": "rich_text",', color: "text-yellow-400", state: "MAPPING", dot: "bg-green-500 animate-pulse" },
            { text: '&nbsp;&nbsp;&nbsp;&nbsp;"dest": "hubdb_column_4"', color: "text-yellow-400", state: "MAPPING", dot: "bg-green-500 animate-pulse" },
            { text: '&nbsp;&nbsp;}', color: "text-white", state: "MAPPING", dot: "bg-green-500 animate-pulse" },
            { text: "}", color: "text-white", state: "COMPLETE", dot: "bg-green-500" },
            { text: "> Schema Validated.", color: "text-slate-400", state: "VERIFIED", dot: "bg-green-500" }
        ],
        qa: [
            { text: "run integrity_check.sh", color: "text-white", state: "INIT_CHECK", dot: "bg-purple-500" },
            { text: "> Verifying URL Redirects (301)... [PASS]", color: "text-green-400", state: "SEO_CHECK", dot: "bg-purple-500 animate-pulse" },
            { text: "> Checking Missing Images (404)... [0 FOUND]", color: "text-green-400", state: "MEDIA_CHECK", dot: "bg-purple-500 animate-pulse" },
            { text: "> Validating Meta Tags... [PASS]", color: "text-slate-400", state: "META_CHECK", dot: "bg-purple-500 animate-pulse" },
            { text: "> Testing Form Submissions... [OK]", color: "text-slate-400", state: "FORM_CHECK", dot: "bg-purple-500 animate-pulse" },
            { text: "echo 'System Ready for Go-Live'", color: "text-blue-400", state: "ONLINE", dot: "bg-green-500" },
            { text: "> Launch sequence initiated.", color: "text-orange-500 font-bold italic", state: "LAUNCH", dot: "bg-orange-500" }
        ]
    };

    let currentTimeout;
    const terminalContent = document.getElementById('terminal-content');
    const statusText = document.getElementById('status-text');
    const statusDot = document.getElementById('status-dot');

    function switchTab(tabName) {
        document.querySelectorAll('.terminal-tab').forEach(t => t.classList.remove('active'));
        document.getElementById(`tab-${tabName}`).classList.add('active');

        if (currentTimeout) clearTimeout(currentTimeout);
        terminalContent.innerHTML = '';
        
        const selectedScript = scripts[tabName];
        typeScript(selectedScript, 0, 0);
    }

    function typeScript(lines, lineIndex, charIndex) {
        if (lineIndex < lines.length) {
            
            if (charIndex === 0) {
                let currentLineData = lines[lineIndex];
                
                if(currentLineData.state) {
                    statusText.innerText = currentLineData.state;
                    statusDot.className = `w-1.5 h-1.5 rounded-full ${currentLineData.dot}`;
                }

                let div = document.createElement('div');
                div.className = `mb-1.5 ${currentLineData.color}`;
                div.id = `line-${lineIndex}`;
                
                if(currentLineData.text.startsWith('hs') || currentLineData.text.startsWith('wp') || currentLineData.text.startsWith('run') || currentLineData.text.startsWith('cat')) {
                      div.innerHTML = '<span class="text-orange-500 mr-2 font-bold">âžœ</span>';
                }
                
                terminalContent.appendChild(div);
            }

            const fullText = lines[lineIndex].text;
            const currentDiv = document.getElementById(`line-${lineIndex}`);
            
            if (fullText.includes('&nbsp;')) {
                currentDiv.innerHTML += fullText;
                currentTimeout = setTimeout(() => typeScript(lines, lineIndex + 1, 0), 300);
            } else {
                if (charIndex < fullText.length) {
                    currentDiv.innerHTML += fullText.charAt(charIndex);
                    currentTimeout = setTimeout(() => typeScript(lines, lineIndex, charIndex + 1), 20);
                } else {
                    currentTimeout = setTimeout(() => typeScript(lines, lineIndex + 1, 0), 400);
                }
            }

        } else {
            statusText.innerText = "WAITING...";
            statusDot.className = "w-1.5 h-1.5 rounded-full bg-slate-500 animate-pulse";
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        switchTab('migration');
    });
</script>